<div class="x_panel">
    <div class="x_title">
        <h2>{{i18n.setting.parameters.title}}</h2>
        <ul class="nav navbar-right panel_toolbox">
            <li>
                <a class="collapse-link" title="Add new" (click)="onAddParameterClicked()">
                    <i class="fa fa-plus"></i>
                </a>
            </li>
        </ul>
        <div class="clearfix"></div>
    </div>
    <div class="x_content">
        <table class="table">
            <thead>
                <tr>
                    <th style="width:25%">{{i18n.setting.parameters.name}}</th>
                    <th style="width:25%">{{i18n.setting.parameters.key}}</th>
                    <th style="width:20%">{{i18n.setting.parameters.value}}</th>
                    <th class="text-center" style="width:10%">{{i18n.setting.parameters.required}}</th>
                    <th class="text-center" style="width:10%">{{i18n.setting.parameters.encoded}}</th>
                    <th class="text-center" style="width:15%">{{i18n.setting.parameters.action}}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of model">
                    <td>
                        <span *ngIf="getDisplayMode(item) === DisplayMode.View">{{item.name}}</span>
                        <input class="form-control col-md-7 col-xs-12" type="text" *ngIf="getDisplayMode(item) !== DisplayMode.View" [(ngModel)]="item.name"
                            [validation]="['setting.parameters.validation.nameIsRequired','setting.parameters.validation.nameAlreadyExisted']"
                        />
                    </td>
                     <td>
                        <span *ngIf="getDisplayMode(item) === DisplayMode.View">{{item.key}}</span>
                        <input class="form-control col-md-7 col-xs-12" type="text" *ngIf="getDisplayMode(item) !== DisplayMode.View" [(ngModel)]="item.key"
                            [validation]="['setting.parameters.validation.keyIsRequired','setting.parameters.validation.keyAlreadyExisted']"
                        />
                    </td>
                    <td>
                        <span *ngIf="getDisplayMode(item) === DisplayMode.View">{{item.value}}</span>
                        <input *ngIf="getDisplayMode(item) !== DisplayMode.View" class="form-control form-control col-md-7 col-xs-12" type="text" 
                        [(ngModel)]="item.value" [validation]="['setting.parameters.validation.valueIsRequired']" />
                    </td>
                    <td class="text-center">
                        <i class="fa fa-check" *ngIf="getDisplayMode(item) === DisplayMode.View && item.isRequired"></i>
                        <input *ngIf="getDisplayMode(item) !== DisplayMode.View" class="flat" type="checkbox" [(ngModel)]="item.isRequired" />
                    </td>
                    <td class="text-center">
                        <i class="fa fa-check" *ngIf="getDisplayMode(item) === DisplayMode.View && item.isEncoded"></i>
                        <input *ngIf="getDisplayMode(item) !== DisplayMode.View" class="flat" type="checkbox" [(ngModel)]="item.isEncoded" />
                    </td>
                    <td class="text-center">
                        <button class="btn-link" title="Save" *ngIf="getDisplayMode(item) !== DisplayMode.View" (click)="onSaveClicked(item)"><i class="icon fa fa-save"></i></button>
                        <button class="btn-link" title="Cancel" *ngIf="getDisplayMode(item) !== DisplayMode.View" (click)="onCancelClicked(item)"><i class="icon fa fa-ban"></i></button>
                        <button class="btn-link" title="Edit" *ngIf="getDisplayMode(item) === DisplayMode.View" (click)="onEditClicked(item)"><i class="icon fa fa-edit"></i></button>
                        <button class="btn-link" title="Delete" *ngIf="getDisplayMode(item) === DisplayMode.View" (click)="onDeleteClicked(item)"><i class="icon fa fa-close"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>